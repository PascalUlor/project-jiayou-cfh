<div ng-controller="GameController">

  <div class=" navbar light-blue darken-3">
    <div class="row valign-wrapper" style="min-height: 50px">
      <div class="col m6 valign">
        <h1 style="margin-left:20px; color:white;">cfh</h1>
      </div>
      <div class="col m6 valign">
        <div class="col m8 right-align"   style="color: light-blue darken-3">
          <button class="dropdown-button btn green" ng-click="getEmail()" data-activates='dropdown1' style=" border-radius: 10px; color: white"> View Friends</button>
          <!-- Dropdown Structure -->
          <form id='dropdown1' class='dropdown-content'>
            <ul>
            <li ng-repeat= "friend in friendList" style="color: grey"> {{friend}} </li>
            </ul>
          </form>
          <a class="btn green"; style=" border-radius: 10px; color: white" id='abandon-game-button' ng-click="abandonGame()">Abandon Game</a>
        </div>
        <div id="tweet-container" class="col m4"; style="padding-top: 1% ">
          <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://cfh.io" data-text="Cards for Humanity: A Game for Horrible People Desperately Trying to do Good" data-related="CFH_App">Tweet</a>
          <script>
            ! function(d, s, id) {
              var js, fjs = d.getElementsByTagName(s)[0],
                p = /^http:/.test(d.location) ? 'http' : 'https';
              if (!d.getElementById(id)) {
                js = d.createElement(s);
                js.id = id;
                js.src = p + '://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js, fjs);
              }
            }(document, 'script', 'twitter-wjs');

            
          </script>
        </div>
      </div>
      <div>
      </div>
    </div>
  </div>

 <div alert-message class="alert alert-success" role="alert" ng-show="showAlert">
  <span><strong>Welcome!</strong></span> </div>
  <div class="container" style="padding-top: 6%">
    <div class="gameplay-container">
      <div class="row">
        <div class="col m9">
          <div id="">
            <div class="row white-text" style="margin-bottom: 20px; background-color:#0277bd">

              <div class="col m3">
                <timer></timer>
              </div>
              <div class="col m9 blue z-depth-5" style="background: url(img/bluewood.jpg)">
                <question></question>
              </div>
              <div> <label> Add </label></div>
            </div>
            <div class="row">
              <answers></answers>
            </div>
          </div>
        </div>
        <div class="col m3" style="padding-left: 40px">
          <div class="row">
            <div class="col m5">
              <player></player>
            </div>
          </div>
            <div class="row">
              <div class="col m10">
                <label style="font-size: 18px" for="gg">Add a friend</label>
              <a id = "gg" class=" btn-floating waves-effect green" ng-click="display();getEmail(); "><i class="material-icons">add</i></a>
              <div id = "friend" style="display: none">
                <input id="newFriend" type="text" list="emails" placeholder="Enter email"  />
                <datalist id="emails" >
                          <option ng-repeat="email in emails"  value = "{{email}}" ></option>
                </datalist>
                <button class="btn" ng-click="addFriend()">add</button>
              </div>

              </div>
            </div>
        </div>
      </div>
    </div>
  </div>
  <div class="chat-container" id="chatContainer">
    <button class="btn light-blue darken-3" id="openChatButton">
      <i class="material-icons">keyboard_arrow_up</i>
    </button>
    <div class="chat">
      <div class="chat-title">
        <figure class="avatar" ng-repeat="player in game.players">
          <img ng-show="isPlayer($index)" ng-src="{{player.avatar}}" alt="{{player.username | upperFirstLetter}}" />
        </figure>
      </div>
      <div class="messages">
        <div class="messages-content"></div>
      </div>
      <div class="message-box">
        <textarea type="text" class="message-input" placeholder="Type message..."></textarea>
        <button type="submit" class="message-submit">Send</button>
      </div>
    </div>
  </div>


</div>
</div>

<div class="navbar navbar-default navbar-fixed-bottom footer-bottom">
  <div class="container">
    <p class="navbar-text pull-left">Â© 2017 - Team Jiayou.
    </p>
  </div>
</div>

<script>
  $("#openChatButton").click(function() {
    $("#chatContainer").toggleClass("activeChat");
  });

  // Use a directive
  if (!(localStorage.getItem('JWT') && localStorage.getItem('Email')) || !localStorage.getItem('jwtToken')) {
    localStorage.setItem('sign_in', true);
  }

</script>
<script>
  $(document).ready(function() {
            console.log("intiate dropdown");
            $('.dropdown-button').dropdown({
              inDuration: 300,
              outDuration: 100,
              stopPropagation: false,
              constrain_width: true,
              hover: true,
              gutter: 0,
              belowOrigin: true,
              alignment: 'left'
            });
          });
          $('.dropdown-button').dropdown('open');
          $('.dropdown-button').dropdown('close');
   
</script>
