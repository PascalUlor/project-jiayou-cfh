<script src="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.min.js"></script>
<div ng-controller="GameController">
  <div class=" light-blue darken-3 top-navbar" >
    <div class="row valign-wrapper" style="min-height: 50px;position: relative; ">
      <div class="col m9"> 
        <div class="white-text" id="cfh-icon">CFH</div>
      </div>
      <div class="col m3">
          <div class="col m4"  >
            <i  data-activates='dropdown1' class="dropdown-button material-icons mdl-badge mdl-badge--overlap" data-badge="1">notifications_none</i>
            <!-- Dropdown Structure -->
            <ul id='dropdown1' class='dropdown-content'>
              <li class="head"><label style="font-size: 15px">Notifications</label></li>
              <li ng-if="notifications.length < 1"><label style="font-size: 12px; color: lightblue">No notifications</label></li>
              <li class= "tail" ng-repeat='notification in notifications track by $index' ><hr><label style="font-size: 12px;color: lightblue" ng-bind-html-unsafe="notification">{{ notification }}</label></li>
            </ul>
          </div>
          <div class="col m8">
            <a class="chip red darken-3 white-text" ng-click="abandonGame()">Abandon Game</a>
          </div>
      </div>          
    </div>
  </div>

    <div class="question-top container">
      <div class="gameplay-container">
        <div class="row">
          <div class="col m9 s12">
            <div class="valign-wrapper question-top">
              <div class="questions valign col m8 s12">
                <question></question>
              </div>
              <div class="card col m4"> CARD DECK</div>
            </div>
            <div class="row">
              <answers></answers>
            </div>
        </div>
        <div class="col m3" id = "player-timer">
          <timer></timer>   
          <player></player>
          <div class="col m10">
              <ul style="position: absolute; z-index: 2; width: 250px; background-color: white" class="collapsible" data-collapsible="accordion">
                <li>
                  <div class=" collapsible-header white-text z-depth-2 light-blue darken-3" ng-click="getEmail();getFriendsEmail()">Friends</div>
                  <div class="collapsible-body">
                  <input style="width: 150px" id="newFriend" type="text" list="emails" placeholder="Enter email to add friend"  />
                      <datalist id="emails" >
                                <option ng-repeat="email in emails"  value = "{{email}}" ></option>
                      </datalist>
                    <a id = "gg" class="btn-floating waves-effect light-blue darken-3" ng-click="addFriend();"><i class="material-icons">add</i></a>
                    <ul>
                      <li ng-repeat= "friend in friendList"> <a>{{friend}}</a> <button ng-click="sendInvite2(friend)" class="btn light-blue darken-3"> invite</button> <hr></li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
            
        </div>
      </div>
    </div>
  </div>
  <div class="col m12 chat-container " id="chatContainer">
    <button class="btn-flat" style = "outline: none" id="openChatButton">
      <i class="material-icons">keyboard_arrow_up</i>
    </button>
    <div class="chat">
      <div class="chat-title">
        
      </div>
      <div class="messages">
        <div class="messages-content"></div>
      </div>
      <div class="message-box">
        <textarea type="text" class="message-input" placeholder="Type message..."></textarea>
        <button type="submit" class="message-submit">Send</button>
      </div>
    </div>
  </div>
</div>



<script>
  $("#openChatButton").click(function() {
    $("#chatContainer").toggleClass("activeChat");
  });

  // Use a directive
  if (!(localStorage.getItem('JWT') && localStorage.getItem('Email')) || !localStorage.getItem('jwtToken')) {
    localStorage.setItem('sign_in', true);
  }
  
      $(document).ready(function(){
        $('.collapsible').collapsible({accordion: true, hover:true});
      });
            // console.log("intiate dropdown");
            $('.dropdown-button').dropdown({
              inDuration: 300,
              outDuration: 100,
              constrain_width: true,
              hover: true,
              gutter: 0,
              belowOrigin: true,
              alignment: 'left'
            });
          $('.dropdown-button').dropdown('open');
          $('.dropdown-button').dropdown('close');
</script>
